{"version":3,"sources":["images/header/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","images/elements/Galickii-park.jpg","utils/constants.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["Header","props","className","src","logo","alt","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLike","likes","length","onClick","onCardDelete","link","name","onCardClick","onCardLike","Main","cardsArr","cards","map","onEditAvatar","style","backgroundImage","avatar","type","aria-label","onEditProfile","about","onAddPlace","Provider","value","Footer","ImagePopup","onClose","api","options","this","_url","url","_headers","headers","fetch","then","_resolve","data","method","body","JSON","stringify","id","response","ok","json","Promise","reject","status","authorization","PopupWithForm","isOpen","onSubmit","noValidate","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","childrenEditProfile","placeholder","required","minLength","maxLength","onChange","evt","currentTarget","newDescriptiopn","preventDefault","onUpdateUser","EditAvatarPopup","inputRef","useRef","childrenEditAvatar","ref","current","onUpdateAvatar","AddPlacePopup","imageLink","setImageLink","childrenAddPlace","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setCurrentUser","selectedCard","setSelectedCard","setCards","err","console","log","clickEscape","keyCode","closeAllPopups","document","addEventListener","all","getUserInfo","getCards","userInfo","cardsList","catch","removeEventListener","closeOverlay","target","classList","contains","some","i","changeLike","newCard","newCards","c","delCard","deleteCard","filter","on","changeUserInfo","addCard","changeAvatar","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.72443ee1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","\r\nimport logo from '../images/header/logo.svg';\r\n\r\nfunction Header (props){\r\n  return (\r\n    <header className=\"header body__header\">\r\n    <img className=\"header__logo\" src={logo} alt=\"Логотип сайта Mesto\"/>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\n// import { currentUser } from \"../contexts/CardContext.js\";//\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nfunction Card (props){\r\n  // const card = React.useContext(CardContext);\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const handleClick = () => {\r\n    props.onCardClick(props.card)\r\n  }\r\n  const handleLike = () => {\r\n    props.onCardLike(props.card);\r\n  }\r\n  const handleDelete = () => {\r\n    props.onCardDelete(props.card)\r\n  }\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLike = props.card.likes.length > 0;\r\n  return (\r\n        <li className=\"element\">\r\n          <div className={`element__delete ${isOwn ? 'element__delete_active' : ''}`}>\r\n            <button className=\"element__delete-button\" onClick={handleDelete}></button> \r\n          </div>\r\n          <img className=\"element__image\" src={props.card.link} alt={props.card.name}\r\n            onClick={handleClick}\r\n          />\r\n          <div className=\"element__group\">\r\n            <h2 className=\"element__name\">{props.card.name}</h2>\r\n            <div className=\"element__like-group\">\r\n              <button className={`element__like ${isLike ? 'element__like_active' : ''}`} onClick={handleLike}></button>\r\n              <span className=\"element__like-counter\">{props.card.likes.length}</span>\r\n            </div>\r\n          </div>\r\n        </li>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n// import { CardContext } from '../contexts/CardContext.js';\r\nexport default function Main (props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n    const cardsArr = props.cards.map((card) => {\r\n     return (\r\n        <Card key={card._id} card={card}\r\n          onCardClick={props.onCardClick}\r\n          onCardLike={props.onCardLike}\r\n          onCardDelete={props.onCardDelete}\r\n        />\r\n     )\r\n    });\r\n    debugger;\r\n    return (\r\n      <main className=\"main\">\r\n        <section className=\"profile main__profile\">\r\n          <div className=\"profile__main-info\">\r\n            <div className=\"profile__avatar\" onClick={props.onEditAvatar}\r\n              style={{backgroundImage: `url(${currentUser.avatar})`}}></div>\r\n            <div className=\"profile__info\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button className=\"profile__edit\" type=\"button\" aria-label=\"Edit\" onClick={props.onEditProfile}></button>\r\n              <p className=\"profile__description\">{currentUser.about}</p>\r\n            </div>\r\n          </div>\r\n          <button className=\"profile__add-button\" type=\"button\" aria-label=\"Add\" onClick={props.onAddPlace}>\r\n          </button>\r\n        </section>\r\n        <section className=\"elements main__elements\">\r\n          <ul className=\"elements__list\">\r\n          <CurrentUserContext.Provider value={currentUser}>\r\n            {cardsArr}\r\n          </CurrentUserContext.Provider>\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    )\r\n}","export default function Footer (props) {\r\n  return (\r\n    <footer className=\"footer body__footer\">\r\n      &copy;2021 Mesto Russia\r\n    </footer>\r\n  )\r\n}","function ImagePopup (props) {\r\n  return (\r\n    <section className={`popup popup_type_image ${props.card && 'popup_opened'}`} onClick={props.onClose}>\r\n    <button className=\"popup__close-button\" type=\"reset\" aria-label=\"Close\"></button>\r\n    <figure className=\"popup__container popup__figure\">\r\n      <img className=\"popup__image\" src={props.card && props.card.link} \r\n        alt={props.card && props.card.name} />\r\n      <figcaption className=\"popup__figcaption\">{props.card && props.card.name}</figcaption>\r\n    </figure>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","import {token} from './constants'\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  getCards(url) {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  changeUserInfo(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  changeAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })    \r\n    .then(this._resolve);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  changeLike(id, isLike) {\r\n    const method = isLike ? 'PUT' : 'DELETE';\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: method,\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  addLike(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  _resolve(response) {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${response.status}`)\r\n  }\r\n}\r\n\r\nconst api = new Api({url: 'https://mesto.nomoreparties.co/v1/cohort-23', headers: {\r\n  authorization: token,\r\n  'Content-Type': 'application/json'\r\n}});\r\n\r\nexport default api","export default __webpack_public_path__ + \"static/media/Galickii-park.6927af07.jpg\";","import kras from '../images/elements/Galickii-park.jpg';\r\nconst ESC_CODE = 27;\r\nconst initialCards = [\r\n  {\r\n    name: 'Архыз',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg'\r\n  },\r\n  {\r\n    name: 'Челябинская область',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg'\r\n  },\r\n  {\r\n    name: 'Краснодар',\r\n    link: kras\r\n  },\r\n  {\r\n    name: 'Камчатка',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg'\r\n  },\r\n  {\r\n    name: 'Холмогорский район',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg'\r\n  },\r\n  {\r\n    name: 'Байкал',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg'\r\n  }\r\n];\r\n\r\nconst objFormParams = {\r\n  formSelector: '.popup__container',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__confirm',\r\n  inputError: 'popup__input_error',\r\n  inputErrorActive: 'popup__input-error_active',\r\n  saveButtonActive: 'popup__confirm_active'\r\n}\r\n\r\nconst token = 'e2787495-d10a-4c6a-a5f2-7d4ee36816fa';\r\n\r\nexport {ESC_CODE, initialCards, objFormParams, token};","function PopupWithForm (props){\r\n  return (\r\n    <section className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}\r\n      onClick={props.onClose}\r\n    >\r\n    <button className=\"popup__close-button\" type=\"reset\" aria-label=\"Close\"></button>\r\n    <form className=\"popup__container\" name={props.name} onSubmit={props.onSubmit} noValidate>\r\n      <h2 className=\"popup__title\">{props.title}</h2>\r\n      {props.children}\r\n      <button className='popup__confirm popup__confirm_active' type=\"submit\">{props.buttonText}</button>\r\n    </form>\r\n  </section>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup (props) {\r\n  // Объявляем контекст текущего пользователя\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // Обявляем состояния (имя и описание)\r\n  const [name, setName] = React.useState('Жак-Ив Кусто');\r\n  const [description, setDescription] = React.useState('Морской исследователь');\r\n  //объявляем методы изменения input-ов\r\n  const changeName = (evt) => {\r\n    // const newName = evt.currentTarget.value ? evt.currentTarget.value : name;\r\n    setName(evt.currentTarget.value);\r\n  }\r\n  const changeDescription = (evt) => {\r\n    const newDescriptiopn = evt.currentTarget.value ? evt.currentTarget.value : description;\r\n    setDescription(newDescriptiopn);\r\n  }\r\n  //Создаем эфект для обновления state-переменных, при обновлении контекста \r\n  //текущего пользователя\r\n  React.useEffect(() => {\r\n    if(currentUser['name']) {setName(currentUser.name)};\r\n    if(currentUser['about']) {setDescription(currentUser.about)};\r\n  }, [currentUser])\r\n  //объявляем метод для сохранения данных по польховтелю\r\n  const handleSubmit = (evt) => { \r\n    // api.changeUserInfo({name, description});\r\n    evt.preventDefault();\r\n    props.onUpdateUser({name, about: description});\r\n  }\r\n  //объявляем переменную для хранения input-ов\r\n  const childrenEditProfile = (\r\n    <>\r\n      <input className=\"popup__input popup__input_purpose_name\" name=\"element-name\" type=\"text\" placeholder=\"Имя\"\r\n        required minLength=\"2\" maxLength=\"40\" value={name} onChange={changeName}/>\r\n      <span className=\"popup__input-error element-name-placeholder\"></span>\r\n      <input className=\"popup__input popup__input_purpose_description\" name=\"element-link\" type=\"text\"  \r\n        placeholder=\"Описание деятельности\" required minLength=\"2\" maxLength=\"200\" value={description} onChange={changeDescription}/>\r\n      <span className=\"popup__input-error element-link-placeholder\"></span>\r\n      {/* <button className=\"popup__confirm\" type=\"submit\">Сохранить</button> */}\r\n    </>\r\n  );\r\n  return (\r\n    <PopupWithForm name=\"editProfile\" title=\"Редактировать профиль\" \r\n              isOpen={props.isOpen}\r\n              onClose={props.onClose}\r\n              onSubmit={handleSubmit}\r\n              buttonText='Сохранить'>\r\n              {childrenEditProfile}\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup (props) {\r\n  //Объявляем метод измеенения поля, содержащего ссылку на аватар\r\n  const inputRef = React.useRef(null);\r\n\r\n  const handleSubmit = (evt) => {\r\n    const avatar = inputRef.current.value;\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar(avatar);\r\n  }\r\n\r\n  const childrenEditAvatar = (\r\n    <>\r\n      <input className=\"popup__input popup__input_purpose_description popup__input_purpose_link\" name=\"avatarEditor-link\" type=\"url\"  \r\n        placeholder=\"Ссылка на картинку\" ref={inputRef} />\r\n      <span className=\"popup__input-error avatarEditor-link-placeholder\"></span>\r\n    </>\r\n  );\r\n  return (\r\n    <PopupWithForm name=\"editAvatar\" title=\"Обновить аватар\"  buttonText='Сохранить'\r\n      isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            {childrenEditAvatar}\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\"\r\n\r\nfunction AddPlacePopup (props) {\r\n  // const urlRef = React.useRef();\r\n  const [name, setName] = React.useState('');\r\n  const [imageLink, setImageLink] = React.useState('');\r\n  //Объявляем метод для обработки изменения popup__input_purpose_name\r\n  const nameChange = (evt) => {\r\n    setName(evt.currentTarget.value);\r\n  }\r\n  const imageLinkChange = (evt) => {\r\n    setImageLink(evt.currentTarget.value)\r\n  }\r\n  //Объявляем обработчик отправки формы\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onAddPlace({name, link: imageLink});\r\n  }\r\n  const childrenAddPlace = (\r\n    <>\r\n      <input className=\"popup__input popup__input_purpose_name\" name=\"profileEditor-name\" type=\"text\"  placeholder=\"Название\"\r\n        required minLength=\"2\" maxLength=\"30\" value={name} onChange={nameChange}/>\r\n      <span className=\"popup__input-error profileEditor-name-placeholder\"></span>\r\n      <input className=\"popup__input popup__input_purpose_description\" name=\"profileEditor-description\" type=\"url\"  \r\n        placeholder=\"Ссылка на картинку\" value={imageLink} onChange={imageLinkChange}/>\r\n      <span className=\"popup__input-error profileEditor-description-placeholder\"></span>\r\n    </>\r\n  )\r\n  return (\r\n    <PopupWithForm name=\"addPlace\" title=\"Новое место\" isOpen={props.isOpen}\r\n              onClose={props.onClose} buttonText='Создать' onSubmit={handleSubmit}>\r\n              {childrenAddPlace}\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport api from '../utils/api.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\n\r\nfunction App (props) {\r\n\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [cards, setCards] = React.useState([]);\r\n  const _ESC_CODE = 27;\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  const handleEditProfileClick = () => {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  // обработчик открытия popup-a добавления карточки\r\n  const handleAddPlaceClick = () => {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  // обработчик открытия карточки\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  }\r\n  //метод логирования ошибок\r\n  const reject = (err) => {\r\n    console.log(err);\r\n  }\r\n\r\n  // обработчик нажатия ESC\r\n  React.useEffect(() => {\r\n    const clickEscape = (evt) => {\r\n      if(evt.keyCode === _ESC_CODE) {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keyup', clickEscape);\r\n    \r\n    //делаем запрос данных текщего пользователя через API\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n    .then(([userInfo, cardsList]) => {\r\n      setCurrentUser(userInfo);\r\n      setCards(cardsList);\r\n    })\r\n    .catch(reject)\r\n  //   api.getUserInfo()\r\n  //   .then((response) => {\r\n  //     setCurrentUser(response)\r\n  //   });\r\n  //   //Добавляем запрос на добавление карточек\r\n  //   api.getCards()\r\n  //  .then((cardsList) => {\r\n  //    setCards(cardsList)\r\n  //  })\r\n\r\n    return () => {\r\n      document.removeEventListener('keyup', clickEscape);\r\n    }\r\n  }, []);\r\n\r\n  // обработчик закрытия Overlay\r\n  const closeOverlay = (evt) => {\r\n    if(evt.target.classList.contains('popup') || evt.target.classList.contains('popup__close-button')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  // закрытие всех popup-ов\r\n  const closeAllPopups = () => {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  //объявляем обновление данных по пользователю\r\n  const handleUpdateUser = ({name, about}) => {\r\n    if(name && about) {\r\n      api.changeUserInfo({name, about})\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo);\r\n        closeAllPopups();\r\n      });\r\n    }\r\n  }\r\n  //Обновляем аватар\r\n  const handleUpdateAvatar = (avatar) => {\r\n    if(avatar) {\r\n      api.changeAvatar({avatar})\r\n      .then((response) => {\r\n        setCurrentUser(response);\r\n        closeAllPopups();\r\n      })\r\n    }\r\n  }\r\n  const handleAddPlace = ({name, link}) => {\r\n    api.addCard({name, link})\r\n    .then((newCard) => {\r\n       setCards([newCard, ...cards])\r\n       closeAllPopups();\r\n     })\r\n    .catch(reject);\r\n  }\r\n  //метод обработки простановки лайков\r\n  const handleCardLike = (card) => {\r\n    const isLike = card.likes.some(i => i._id === currentUser._id);// this.context._id);\r\n    api.changeLike(card._id, !isLike)\r\n    .then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === newCard._id ? newCard : c);\r\n      setCards(newCards)\r\n    })\r\n    .catch(reject);\r\n  }\r\n\r\n const handleCardDelete = (delCard) => {\r\n   api.deleteCard(delCard._id)\r\n   .then(() => {\r\n      const newCards = cards.filter((card) => delCard._id !== card._id ? card : null);\r\n      setCards(newCards);\r\n   })\r\n   .catch(reject);\r\n }\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header/>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Main \r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n          on\r\n        />\r\n        <Footer/>\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeOverlay} onUpdateUser={handleUpdateUser}/>\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeOverlay} onAddPlace={handleAddPlace}/>\r\n        <ImagePopup card={selectedCard} onClose={closeOverlay} />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeOverlay} onUpdateAvatar={handleUpdateAvatar} />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}